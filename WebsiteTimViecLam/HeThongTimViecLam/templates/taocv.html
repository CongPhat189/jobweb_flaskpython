<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JobConnect - Tạo Hồ Sơ Xin Việc</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{background:#f5f8fb;font-family:Inter,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    .navbar {background: white; box-shadow: 0 2px 6px rgba(15,23,42,0.06)}
    .hero{padding:56px 0}
    .card-ghost{border-radius:12px; box-shadow:0 6px 20px rgba(2,6,23,0.06)}
    .cv-preview{background:#e9eef6;border-radius:10px;display:flex;align-items:center;justify-content:center;height:260px}
    .cv-caption{font-size:14px;color:#6b7280;margin-top:8px;text-align:center}
    .form-card{padding:20px}
    .progress-small{height:10px;border-radius:8px}
    .btn-upload{background:#2563eb;color:white}
    .btn-create{background:#10b981;color:white}
    @media (max-width:991px){.cv-preview{height:200px}}
  </style>
</head>
<body>

<nav class="navbar navbar-expand-lg">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#"><strong style="color:#2563eb">Open Job</strong></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="/">Trang chủ</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Việc làm</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Công ty</a></li>
        <li class="nav-item"><a class="nav-link" href="/taocv">Tạo CV</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Blog</a></li>
      </ul>
      <div class="d-flex gap-2">
        {% if current_user.is_authenticated %}
          <a href="/logout" class="btn btn-danger">Đăng xuất</a>
        {% else %}
          <a href="/login" class="btn btn-outline-primary">Đăng nhập</a>
          <a href="/register" class="btn btn-primary">Đăng ký</a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>

<section class="hero">
  <div class="container">
    <div class="text-center mb-5">
      <h2>Tạo Hồ Sơ Xin Việc</h2>
      <p class="text-muted">Điền đầy đủ thông tin bên dưới để tăng cơ hội ứng tuyển thành công</p>
    </div>

    <div class="row g-4 justify-content-center align-items-start">
      <div class="col-lg-7">
        <div class="card card-ghost p-4">
          <div class="cv-preview">
            <img src="https://www.topcv.vn/images/cv/screenshots/vi/pro_1.png" alt="Mẫu CV" style="max-height:220px;max-width:100%;object-fit:contain;">
          </div>
          <div class="cv-caption">Mẫu CV Chuyên Nghiệp<br><small class="text-muted">Thiết kế hiện đại, dễ đọc</small></div>
        </div>
      </div>

      <div class="col-lg-5">
        <div class="card card-ghost form-card">
          <h6 class="mb-3">Thông Tin Hồ Sơ</h6>

          <form id="cvForm" action="/taocv" method="POST" enctype="multipart/form-data">
            <div class="mb-2">
              <label class="form-label small">Tên hồ sơ</label>
              <input class="form-control" name="ten_hs" placeholder="CV Frontend Developer" required>
            </div>

            <div class="mb-2">
              <label class="form-label small">Mục tiêu nghề nghiệp</label>
              <textarea class="form-control" name="muc_tieu_nghe_nghiep" rows="2" placeholder="Ví dụ: Phát triển kỹ năng lập trình..."></textarea>
            </div>

            <div class="mb-2">
              <label class="form-label small">Kinh nghiệm</label>
              <textarea class="form-control" name="kinh_nghiem" rows="2" placeholder="Ví dụ: 2 năm làm việc tại công ty X..."></textarea>
            </div>

            <div class="mb-2">
              <label class="form-label small">Kỹ năng</label>
              <textarea class="form-control" name="ky_nang" rows="2" placeholder="Ví dụ: React, Django, SQL..."></textarea>
            </div>

            <div class="mb-2">
              <label class="form-label small">Học vấn</label>
              <textarea class="form-control" name="hoc_van" rows="2" placeholder="Ví dụ: Cử nhân CNTT - ĐH Khoa học Tự nhiên..."></textarea>
            </div>

            <div class="mb-3">
              <label class="form-label small">Tải File CV (PDF)</label>
              <input type="file" class="form-control" name="file_cv" accept="application/pdf">
            </div>

            <div class="mb-3">
              <label class="form-label small">Tiến trình hoàn thành <span id="progressLabel" class="float-end">0%</span></label>
              <div class="progress progress-small mb-2">
                <div id="progressBar" class="progress-bar" role="progressbar" style="width:0%"></div>
              </div>
            </div>

            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-create">➕ Lưu Hồ Sơ</button>
            </div>
          </form>
        </div>
      </div>
    </div>

  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const fileInput = document.querySelector('input[name="file_cv"]');
  const progressBar = document.getElementById('progressBar');
  const progressLabel = document.getElementById('progressLabel');

  fileInput.addEventListener('change', ()=>{
    if(!fileInput.files || fileInput.files.length===0) return;
    progressBar.style.width = '100%';
    progressLabel.textContent = '100%';
  });
</script>

</body>
</html>
